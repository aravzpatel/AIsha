(this["webpackJsonpaisha-app"]=this["webpackJsonpaisha-app"]||[]).push([[0],{14:function(e,t,a){e.exports=a.p+"media/Intersect.cb816544.svg"},38:function(e,t,a){e.exports=a(68)},43:function(e,t,a){},46:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),l=a.n(o);a(43),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=a(1),s=a(2),c=a(6),u=a(4),m=a(3),g=a(14),d=a.n(g),p=a(31),h=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return console.log(this.props),r.a.createElement("div",{className:"welcome-container"},r.a.createElement(p.a,{src:d.a,alt:"Image",fluid:!0,width:"500",onClick:this.props.onClick}),r.a.createElement("div",{className:"welcome-content"},r.a.createElement("div",{className:"text_shadows"},"Hello, I'm AIsha")))}}]),a}(r.a.Component),b=a(37),f=(a(46),a(8)),v=a.n(f),E=a(7),y=a.n(E),w=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e))._isMounted=!1,n.state={loading:!0,result:"",trigger:!1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.user_id;this._isMounted=!0;var a=this.props.previousStep.message;y.a.post("/api/help",{user_text:a,user_id:t}).then((function(t){e._isMounted&&(console.log("We're inside the response"),console.log("We're about to setState"),e.setState({loading:!1,result:t.data.bot_response,trigger:!0},(function(){e.props.triggerNextStep()})))})).catch((function(e){console.log(e)}))}},{key:"componentWillUnmount",value:function(){console.log("We're about to componentWillUnmount"),this._isMounted=!1}},{key:"render",value:function(){var e=this.state,t=(e.trigger,e.loading),a=e.result;return r.a.createElement("div",{className:"dbpedia"},t?r.a.createElement(f.Loading,null):a)}}]),a}(n.Component);w.defaultProps={steps:void 0,triggerNextStep:void 0};var O=w,S=a(19),j=a(13),C=a(35);var _=function(e){var t=r.a.useMemo((function(){return{showPoints:!0}}),[]),a=r.a.useMemo((function(){return[{primary:!0,type:"time",position:"bottom"},{type:"linear",position:"left"}]}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.Chart,{data:function(e){var t=0;return t=e.length>7?7:e.length,[{label:"Fear",data:Object(j.a)(new Array(t)).map((function(t,a){return{primary:new Date(e[a].year,e[a].month-1,e[a].day),secondary:e[a].moodscore.Fear}}))},{label:"Joy",data:Object(j.a)(new Array(t)).map((function(t,a){return{primary:new Date(e[a].year,e[a].month-1,e[a].day),secondary:e[a].moodscore.Joy}}))},{label:"Anger",data:Object(j.a)(new Array(t)).map((function(t,a){return{primary:new Date(e[a].year,e[a].month-1,e[a].day),secondary:e[a].moodscore.Anger}}))},{label:"Sadness",data:Object(j.a)(new Array(t)).map((function(t,a){return{primary:new Date(e[a].year,e[a].month-1,e[a].day),secondary:e[a].moodscore.Sadness}}))}]}(e.data),series:t,axes:a,tooltip:!0,style:{width:"300px",height:"300px"}}))},k=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e))._isMounted=!1,n.state={loading:!0,result:"",trigger:!1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0;var t=this.props.user_id;this.props.previousStep.message;y.a.post("/profile",{user_id:t}).then((function(t){e._isMounted&&e.setState({loading:!1,result:t.data,trigger:!0},(function(){console.log(e.state.result),e.props.triggerNextStep()}))})).catch((function(e){console.log(e)}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.state,t=(e.trigger,e.loading);e.result;return r.a.createElement("div",{className:"graphcontainer"},t?r.a.createElement(f.Loading,null):r.a.createElement(_,{data:this.state.result}))}}]),a}(n.Component);k.defaultProps={steps:void 0,triggerNextStep:void 0};var x=k,A=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={loading:!0,result:"",trigger:!1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.user_id;this.props.previousStep.message;y.a.post("/logout",{user_id:t}).then((function(t){console.log(e.props),e.props.logout()})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state,t=(e.trigger,e.loading);e.result;return r.a.createElement("div",{className:"graphcontainer"},t?r.a.createElement(f.Loading,null):r.a.createElement(_,{data:this.state.result}))}}]),a}(n.Component);A.defaultProps={steps:void 0,triggerNextStep:void 0};var M=A,I=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){return Object(i.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"render",value:function(){console.log(this.props);return r.a.createElement("div",{className:"chatagent-container"},r.a.createElement(S.ThemeProvider,{theme:{background:"#f5f8fb",fontFamily:"Sans Serif",headerBgColor:"#EF6C00",headerFontColor:"#fff",headerFontSize:"20px",botBubbleColor:"#0368F5",botFontColor:"#fff",botFontSize:"18px",userBubbleColor:"#EA8C55",userFontColor:"#fff"}},r.a.createElement(v.a,{headerTitle:"AIsha",botAvatar:d.a,steps:[{id:"1",message:"Hi, I'm AIsha",trigger:"2"},{id:"2",message:"I'm your companion to help you get in touch with your emotions",trigger:"3"},{id:"3",message:"So, let's get started.",trigger:"4",delay:1250},{id:"4",message:"Tell me how you are feeling?",trigger:"emotion"},{id:"emotion",user:!0,trigger:"5"},{id:"5",component:r.a.createElement(O,{user_id:this.props.user_id}),waitAction:!0,asMessage:!0,trigger:"6",delay:1250},{id:"6",message:function(e){e.steps;return"I hope that was helpful."},trigger:"7"},{id:"7",options:[{value:1,label:"Re-check your emotion",trigger:"4"},{value:2,label:"View your Emotion Graph",trigger:"emotiongraph"},{value:3,label:"Logout",trigger:"logout"}]},{id:"emotiongraph",component:r.a.createElement(x,{user_id:this.props.user_id}),waitAction:!0,asMessage:!1,trigger:"8",delay:1250},{id:"8",message:"It's useful to check your emotions regularly, come back again tomorrow.",trigger:"9"},{id:"9",options:[{value:3,label:"Logout",trigger:"logout"}]},{id:"logout",message:"Goodbye",trigger:"10"},{id:"10",component:r.a.createElement(M,{logout:this.props.logout,user_id:this.props.user_id}),trigger:"10"}]})))}}]),a}(r.a.Component),L=a(36),W=(a(67),r.a.Component),N={color:"red"},F=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onChange=function(e){n.setState(Object(L.a)({},e.target.id,e.target.value))},n.changeView=function(e){n.setState({currentView:e,name:"",password:"",email:"",error:"",error_text:""})},n.currentView=function(){switch(n.state.currentView){case"signUp":return r.a.createElement("form",{onSubmit:n.onSubmitSignUp},r.a.createElement("h2",null,"Sign Up!"),r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Create Account"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("label",{style:N},n.state.error_text)),r.a.createElement("li",null,r.a.createElement("label",null,"Name:",r.a.createElement("br",null),r.a.createElement("input",{type:"text",onChange:n.onChange,value:n.state.name,id:"name",required:!0}))),r.a.createElement("li",null,r.a.createElement("label",null,"Email:",r.a.createElement("br",null),r.a.createElement("input",{type:"email",onChange:n.onChange,value:n.state.email,id:"email",required:!0}))),r.a.createElement("li",null,r.a.createElement("label",null,"Password:",r.a.createElement("br",null),r.a.createElement("input",{type:"password",onChange:n.onChange,value:n.state.password,id:"password",required:!0}))))),r.a.createElement("button",null,"Submit"),r.a.createElement("button",{type:"button",onClick:function(){return n.changeView("logIn")}},"Have an Account?"));case"logIn":return r.a.createElement("form",{onSubmit:n.onSubmitLogin},r.a.createElement("h2",null,"Welcome Back!"),r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Log In"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("label",{style:N},n.state.error_text)),r.a.createElement("li",null,r.a.createElement("label",null,"Email:",r.a.createElement("br",null),r.a.createElement("input",{type:"email",id:"email",onChange:n.onChange,value:n.state.email,required:!0}))),r.a.createElement("li",null,r.a.createElement("label",null,"Password:",r.a.createElement("br",null),r.a.createElement("input",{type:"password",id:"password",onChange:n.onChange,value:n.state.password,required:!0}))))),r.a.createElement("button",null,"Login"),r.a.createElement("button",{type:"button",onClick:function(){return n.changeView("signUp")}},"Create an Account"))}},n.state={currentView:"logIn",name:"",password:"",email:"",error:"",error_text:""},n.onSubmitSignUp=n.onSubmitSignUp.bind(Object(c.a)(n)),n.onSubmitLogin=n.onSubmitLogin.bind(Object(c.a)(n)),n.onChange=n.onChange.bind(Object(c.a)(n)),n}return Object(s.a)(a,[{key:"onSubmitSignUp",value:function(e){var t=this;e.preventDefault();var a=this.state.email,n=this.state.name,r=this.state.password;y.a.post("/signup",{email:a,name:n,password:r}).then((function(e){console.log("sign up response recieved"),console.log(e.data.error),console.log(e.data.data),!0===e.data.error?t.setState({error:!0,error_text:e.data.data}):(console.log(e.data.data),t.props.success(e.data.data))})).catch((function(e){console.log(e)}))}},{key:"onSubmitLogin",value:function(e){var t=this;e.preventDefault();var a=this.state.email,n=this.state.password;y.a.post("/login",{email:a,password:n}).then((function(e){console.log("login response recieved"),console.log(e.data.error),console.log(e.data.data),!0===e.data.error?t.setState({error:!0,error_text:e.data.data}):(console.log(e.data.data),t.props.success(e.data.data))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("section",{id:"entry-page"},this.currentView())}}]),a}(W),U=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={welcome:!0,chat:!1,user_id:null},n.changeWelcome=n.changeWelcome.bind(Object(c.a)(n)),n.changeLogin=n.changeLogin.bind(Object(c.a)(n)),n.logOut=n.logOut.bind(Object(c.a)(n)),n}return Object(s.a)(a,[{key:"changeWelcome",value:function(){this.setState({welcome:!1})}},{key:"changeLogin",value:function(e){this.setState({chat:!0,user_id:e})}},{key:"logOut",value:function(){this.setState({welcome:!0,chat:!1,user_id:null})}},{key:"render",value:function(){var e=r.a.createElement(h,{onClick:this.changeWelcome}),t=null,a=null;return!1===this.state.welcome&&(e=null,t=r.a.createElement(F,{success:this.changeLogin})),!0===this.state.chat&&(t=null,a=r.a.createElement(I,{user_id:this.state.user_id,logout:this.logOut})),!0===this.state.welcome&&(a=null,e=r.a.createElement(h,{onClick:this.changeWelcome})),r.a.createElement(b.a,null,e,t,a)}}]),a}(r.a.Component);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[38,1,2]]]);
//# sourceMappingURL=main.4b859373.chunk.js.map